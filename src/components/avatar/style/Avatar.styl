@import '../../../env'

$avatar-bg-color = #ccc

$avatar-size-hash = {
  default: {
    size: $height-default,
  },
  small: {
    size: $height-small,
  },
  large: {
    size: $height-large,
  }
}

avatar-size-style(style)
  ui-set('width', style['size'])
  ui-set('height', style['size'])
  ui-set('line-height', style['size'])

{$selector-prefix + '-avatar'}
  overflow hidden
  display inline-block
  text-align center
  position relative
  background-color $avatar-bg-color
  border-radius $border-radius-default
  transition background-color .2s

  ui-connect(
    hash: $avatar-size-hash,
    each: avatar-size-style
  )

  + {$selector-prefix + '-avatar'}
    margin-left $ui-horizontal-gap

  > {$selector-prefix + '-icon'}
    vertical-align middle

  > img
    width 100%
    height 100%

{$selector-prefix + '-avatar-image'}
  background-color transparent

// 只有 CSS3 可以缩放文本缩放
{$selector-prefix + '-avatar-text'}
  color $brand-white
  position absolute
  left 50%
  white-space nowrap
  transform-origin 0 center

{$selector-prefix + '-avatar-circle'}
  border-radius $border-radius-circle